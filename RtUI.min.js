const RtUI=(()=>{const t=t=>new Promise((n=>{const r=document.getElementById(t),s=(t,n)=>{const r={tag:t.tagName,attributes:{},children:[]},l=a();r.attributes["data-id"]=l;const o=n?[...n,l]:[l];return r.attributes["data-path"]=o,t.setAttribute("data-id",l),Array.from(t.attributes).forEach((t=>{r.attributes[t.name]=t.value})),Array.from(t.children).forEach((t=>{const e=s(t,o);r.children.push(e)})),e(r.attributes),r};n(s(r,null))})),e=t=>{"{}"!==JSON.stringify(t)&&Object.keys(t).forEach((e=>{if("data-text"===e){const a=document.querySelector(`[data-id="${t["data-id"]}"]`),s=t[e].split(".");let l=n.getValues();s.forEach(((e,n)=>{if(l[e])n===s.length-1&&l[e].setDepens(t["data-id"]);else if(n===s.length-1){let n=null;""!==a.textContent&&(n=a.textContent),l[e]=r(n),l[e].setDepens(t["data-id"])}else l[e]={};l=l[e]}))}}))},a=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let a=0;a<5;a++){e+=t[Math.floor(62*Math.random())]}return e},n=(()=>{let t={};return{setValue:(e,a)=>{t={...t,[e]:a}},getValues:()=>t}})(),r=t=>{let e=null;const a=[];return{setValue:t=>{this.value=t,l(a,"textContent",this.value),e&&e(this.value)},setDepens:t=>{a.push(t)},setCallback:t=>{e=t},value:t}},s=(t,e,a)=>{elem=o(t),elem[e]=String(a)},l=(t,e,a)=>{t.forEach((t=>s(t,e,a)))},o=t=>document.querySelector(`[data-id="${t}"]`);return{useState:r,treeMap:t,store:n,init:e=>new Promise((a=>{document.addEventListener("DOMContentLoaded",(async()=>{const n=await t(e);a(n)}))}))}})();